<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æººæ„›åº¦è¨ºæ–­ by aicha</title>
<link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;500;700;900&family=Kiwi+Maru:wght@300;400;500&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #FFF8F0;
  --card: #FFFFFF;
  --primary: #D4736C;
  --primary-dark: #B85A54;
  --primary-light: #F2D0CD;
  --accent: #E8A87C;
  --gold: #C4A265;
  --text: #3D2C2E;
  --text-light: #8B7072;
  --text-muted: #BDA5A7;
  --danger: #E74C6F;
  --safe: #7BC67E;
  --shadow: 0 4px 24px rgba(61,44,46,0.08);
  --shadow-lg: 0 12px 48px rgba(61,44,46,0.12);
  --radius: 20px;
}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Zen Maru Gothic',sans-serif;background:var(--bg);color:var(--text);min-height:100vh;overflow-x:hidden}

.bg-hearts{position:fixed;inset:0;pointer-events:none;z-index:0;overflow:hidden}
.bg-hearts span{position:absolute;display:block;font-size:20px;opacity:0.06;animation:floatUp linear infinite}
@keyframes floatUp{0%{transform:translateY(100vh) rotate(0deg);opacity:0}10%{opacity:0.06}90%{opacity:0.06}100%{transform:translateY(-10vh) rotate(360deg);opacity:0}}

.container{position:relative;z-index:1;max-width:520px;margin:0 auto;padding:20px 16px 40px;min-height:100vh}
.screen{display:none;animation:fadeIn .5s ease}.screen.active{display:block}
@keyframes fadeIn{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}
@keyframes slideIn{from{opacity:0;transform:translateX(40px)}to{opacity:1;transform:translateX(0)}}
@keyframes pulseGlow{0%,100%{box-shadow:0 0 20px rgba(212,115,108,0.2)}50%{box-shadow:0 0 40px rgba(212,115,108,0.4)}}
@keyframes cardReveal{0%{opacity:0;transform:scale(0.8) rotateY(20deg)}100%{opacity:1;transform:scale(1) rotateY(0deg)}}

.intro-header{text-align:center;padding:48px 0 24px}
.brand-tag{display:inline-block;font-size:11px;letter-spacing:3px;color:var(--text-muted);text-transform:uppercase;margin-bottom:12px}
.intro-header h1{font-size:32px;font-weight:900;line-height:1.3;background:linear-gradient(135deg,var(--primary) 0%,var(--danger) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.intro-header h1 span{display:block;font-size:14px;font-weight:500;color:var(--text-light);-webkit-text-fill-color:var(--text-light);margin-top:4px}
.intro-subtitle{text-align:center;font-size:13px;color:var(--text-light);line-height:1.8;margin:16px 0 24px;font-family:'Kiwi Maru',serif}
.theory-badges{display:flex;flex-wrap:wrap;gap:6px;justify-content:center;margin:16px 0 32px}
.theory-badge{font-size:10px;padding:4px 10px;border-radius:20px;background:var(--primary-light);color:var(--primary-dark);font-weight:500;letter-spacing:0.5px}

.mode-cards{display:flex;flex-direction:column;gap:12px;margin-bottom:24px}
.mode-card{background:var(--card);border-radius:var(--radius);padding:20px;box-shadow:var(--shadow);cursor:pointer;transition:all .3s;border:2px solid transparent;position:relative;overflow:hidden}
.mode-card:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg)}
.mode-card.selected{border-color:var(--primary)}
.mode-emoji{font-size:28px;margin-bottom:8px}
.mode-title{font-size:16px;font-weight:700;margin-bottom:4px}
.mode-desc{font-size:12px;color:var(--text-light);line-height:1.6}

.btn{display:block;width:100%;padding:16px;border:none;border-radius:14px;font-family:inherit;font-size:16px;font-weight:700;cursor:pointer;transition:all .3s;text-align:center}
.btn-primary{background:linear-gradient(135deg,var(--primary) 0%,var(--danger) 100%);color:#fff;box-shadow:0 4px 16px rgba(212,115,108,0.3)}
.btn-primary:hover{transform:translateY(-1px);box-shadow:0 6px 20px rgba(212,115,108,0.4)}
.btn-primary:disabled{opacity:0.4;cursor:not-allowed;transform:none}
.btn-secondary{background:var(--card);color:var(--primary);border:2px solid var(--primary-light)}

.progress-area{margin-bottom:24px}
.progress-bar-wrap{height:6px;background:var(--primary-light);border-radius:3px;overflow:hidden}
.progress-bar-fill{height:100%;background:linear-gradient(90deg,var(--primary),var(--danger));border-radius:3px;transition:width .4s ease}
.progress-text{display:flex;justify-content:space-between;margin-top:8px;font-size:11px;color:var(--text-muted)}
.q-card{background:var(--card);border-radius:var(--radius);padding:28px 24px;box-shadow:var(--shadow);margin-bottom:20px;animation:slideIn .4s ease}
.q-category{font-size:10px;letter-spacing:2px;color:var(--accent);text-transform:uppercase;font-weight:700;margin-bottom:8px}
.q-number{font-size:12px;color:var(--text-muted);margin-bottom:12px}
.q-text{font-size:17px;font-weight:700;line-height:1.6;margin-bottom:24px}
.options{display:flex;flex-direction:column;gap:8px}
.option{display:flex;align-items:center;gap:12px;padding:14px 16px;border-radius:12px;border:2px solid #F0E6E7;cursor:pointer;transition:all .25s;font-size:14px;line-height:1.5}
.option:hover{border-color:var(--primary-light);background:#FFF5F3}
.option.selected{border-color:var(--primary);background:#FFF0EE}
.option-dot{width:20px;height:20px;min-width:20px;border-radius:50%;border:2px solid #DDD;transition:all .25s;position:relative}
.option.selected .option-dot{border-color:var(--primary);background:var(--primary)}
.option.selected .option-dot::after{content:'';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:6px;height:6px;border-radius:50%;background:#fff}

/* ===== RESULT CARD ===== */
.animal-card{border-radius:24px;padding:32px 24px;text-align:center;position:relative;overflow:hidden;animation:cardReveal .8s ease;margin-bottom:20px}
.animal-card::before{content:'';position:absolute;inset:0;background:radial-gradient(circle at 30% 20%,rgba(255,255,255,0.3) 0%,transparent 60%)}
.animal-card .lv-badge{display:inline-block;font-size:10px;letter-spacing:2px;padding:4px 12px;border-radius:20px;background:rgba(255,255,255,0.25);color:#fff;font-weight:700;margin-bottom:12px;position:relative}
.animal-card .animal-emoji{font-size:80px;display:block;margin:8px 0;position:relative;filter:drop-shadow(0 4px 8px rgba(0,0,0,0.15))}
.animal-card .animal-name{font-size:26px;font-weight:900;color:#fff;position:relative;text-shadow:0 2px 8px rgba(0,0,0,0.15);margin-bottom:4px}
.animal-card .animal-sub{font-size:13px;color:rgba(255,255,255,0.85);position:relative;font-family:'Kiwi Maru',serif}
.animal-card .score-big{font-size:56px;font-weight:900;color:#fff;position:relative;margin-top:12px;text-shadow:0 2px 12px rgba(0,0,0,0.2)}
.animal-card .score-big span{font-size:18px;font-weight:500;opacity:0.7}

.bio-card{background:var(--card);border-radius:var(--radius);padding:24px;box-shadow:var(--shadow);margin-bottom:16px;font-size:14px;line-height:1.9;color:var(--text-light);font-family:'Kiwi Maru',serif}
.bio-card strong{color:var(--text)}
.bio-card .bio-title{font-size:13px;font-weight:700;color:var(--text);margin-bottom:8px;font-family:'Zen Maru Gothic',sans-serif}
.bio-card .ecology{background:#FFF8F0;border-radius:12px;padding:14px;margin-top:12px;font-size:12px;line-height:1.8;border-left:3px solid var(--accent)}

.dim-section{background:var(--card);border-radius:var(--radius);padding:24px;box-shadow:var(--shadow);margin-bottom:16px}
.dim-section h3{font-size:14px;font-weight:700;margin-bottom:16px;display:flex;align-items:center;gap:8px}
.dim-row{margin-bottom:14px}.dim-row:last-child{margin-bottom:0}
.dim-label{display:flex;justify-content:space-between;font-size:12px;margin-bottom:4px}
.dim-label span:first-child{font-weight:600}
.dim-label span:last-child{color:var(--text-muted)}
.dim-bar{height:8px;background:#F0E6E7;border-radius:4px;overflow:hidden}
.dim-bar-fill{height:100%;border-radius:4px;transition:width 1s ease}

.couple-section{background:linear-gradient(135deg,#FFF0EE 0%,#FFF5EC 100%);border-radius:var(--radius);padding:24px;margin-bottom:16px;border:1px solid var(--primary-light)}
.couple-section h3{font-size:15px;font-weight:700;margin-bottom:12px;text-align:center}
.couple-compare{display:flex;align-items:center;justify-content:center;gap:16px;margin:16px 0}
.couple-person{text-align:center}
.couple-person .emoji{font-size:36px}
.couple-person .name{font-size:12px;color:var(--text-light);margin-top:4px}
.couple-person .score{font-size:24px;font-weight:900;color:var(--primary)}
.couple-vs{font-size:20px;font-weight:900;color:var(--text-muted)}
.couple-balance-bar{height:12px;border-radius:6px;background:linear-gradient(90deg,var(--primary),#F5F5F5,var(--accent));position:relative;margin:16px 0 8px}
.couple-balance-dot{width:20px;height:20px;border-radius:50%;background:var(--danger);border:3px solid #fff;box-shadow:var(--shadow);position:absolute;top:-4px;transition:left .8s ease}
.couple-balance-labels{display:flex;justify-content:space-between;font-size:10px;color:var(--text-muted)}
.couple-analysis{background:#fff;border-radius:12px;padding:16px;margin-top:12px;font-size:13px;line-height:1.8;color:var(--text-light)}

.partner-input-section{background:var(--card);border-radius:var(--radius);padding:24px;box-shadow:var(--shadow);margin-bottom:16px;text-align:center}
.partner-input-section h3{font-size:15px;font-weight:700;margin-bottom:16px}
.code-display{font-size:24px;font-weight:900;letter-spacing:4px;color:var(--primary);background:var(--primary-light);padding:12px 24px;border-radius:12px;display:inline-block;margin-bottom:16px;font-family:monospace}
.code-input{width:100%;padding:14px;border:2px solid #F0E6E7;border-radius:12px;font-family:inherit;font-size:16px;text-align:center;letter-spacing:4px;font-weight:700;outline:none;transition:border-color .3s}
.code-input:focus{border-color:var(--primary)}
.code-input::placeholder{letter-spacing:1px;font-weight:400;color:#CCC}

.aicha-cta{background:linear-gradient(135deg,var(--primary-dark) 0%,#C04E6A 100%);border-radius:var(--radius);padding:28px 24px;text-align:center;color:#fff;margin:24px 0;position:relative;overflow:hidden}
.aicha-cta::before{content:'';position:absolute;inset:0;background:radial-gradient(circle at 20% 80%,rgba(255,255,255,0.1) 0%,transparent 50%)}
.aicha-cta h3{font-size:18px;font-weight:900;margin-bottom:8px;position:relative}
.aicha-cta p{font-size:13px;opacity:0.9;line-height:1.7;margin-bottom:16px;position:relative}
.aicha-cta .btn{background:#fff;color:var(--primary-dark);font-weight:700;display:inline-block;width:auto;padding:12px 32px}

.share-row{display:flex;gap:8px;margin-top:16px}
.share-row .btn{flex:1;font-size:13px;padding:12px}

.tier-list{background:var(--card);border-radius:var(--radius);padding:24px;box-shadow:var(--shadow);margin-bottom:16px}
.tier-list h3{font-size:14px;font-weight:700;margin-bottom:12px}
.tier-row{display:flex;align-items:center;gap:10px;padding:8px 0;border-bottom:1px solid #F5ECED;font-size:12px}
.tier-row:last-child{border-bottom:none}
.tier-row .t-emoji{font-size:22px;min-width:30px;text-align:center}
.tier-row .t-name{font-weight:700;flex:1}
.tier-row .t-range{color:var(--text-muted);font-size:11px}
.tier-row.current{background:var(--primary-light);border-radius:8px;padding:8px 10px;margin:-2px -10px}

.hidden{display:none!important}
.footer{text-align:center;padding:32px 0;font-size:10px;color:var(--text-muted);line-height:1.8}
.footer a{color:var(--primary);text-decoration:none}
@media(max-width:380px){.intro-header h1{font-size:26px}.q-text{font-size:15px}.animal-card .animal-name{font-size:22px}}
</style>
</head>
<body>
<div class="bg-hearts" id="bgHearts"></div>
<div class="container">

<!-- ===== INTRO ===== -->
<div class="screen active" id="screen-intro">
  <div class="intro-header">
    <div class="brand-tag">by aicha</div>
    <h1>æººæ„›åº¦è¨ºæ–­<span>ã€œã‚ãªãŸã®ã€Œæ„›ã®é‡ã•ã€ã€å‹•ç‰©ã§è¨ºã¾ã™ã€œ</span></h1>
  </div>
  <p class="intro-subtitle">æ„›ç€ç†è«–ãƒ»äº¤æµåˆ†æãƒ»PCMã‚’ãƒ™ãƒ¼ã‚¹ã«<br>ã‚ãªãŸã®æ‹æ„›ã«ãŠã‘ã‚‹ã€ŒåŸ·ç€åº¦ã€ã‚’<br>5æ¬¡å…ƒ Ã— 15å•ã§ç§‘å­¦çš„ã«åˆ†æã€‚<br><strong>å…¨12ã‚¿ã‚¤ãƒ—ã®æººæ„›å‹•ç‰©</strong>ã§ã‚ãªãŸã®æ„›ã‚’è¨ºæ–­ã—ã¾ã™ã€‚</p>
  <div class="theory-badges">
    <span class="theory-badge">æ„›ç€ç†è«– (Bowlby)</span>
    <span class="theory-badge">ECR-Rå°ºåº¦</span>
    <span class="theory-badge">äº¤æµåˆ†æ</span>
    <span class="theory-badge">PCMãƒ¢ãƒ‡ãƒ«</span>
    <span class="theory-badge">å…±ä¾å­˜ç†è«–</span>
  </div>
  <div class="mode-cards">
    <div class="mode-card selected" onclick="selectMode('solo')" id="mode-solo">
      <div class="mode-emoji">ğŸ’˜</div>
      <div class="mode-title">ã²ã¨ã‚Šã§è¨ºæ–­ã™ã‚‹</div>
      <div class="mode-desc">ã¾ãšè‡ªåˆ†ã®æººæ„›å‹•ç‰©ã‚’çŸ¥ã‚‹ã€‚15å•ãƒ»ç´„3åˆ†ã€‚çµæœã‚³ãƒ¼ãƒ‰ã‚’ç›¸æ‰‹ã«é€ã‚Œã°æ¯”è¼ƒã‚‚ã§ãã‚‹ã‚ˆã€‚</div>
    </div>
    <div class="mode-card" onclick="selectMode('couple')" id="mode-couple">
      <div class="mode-emoji">ğŸ’‘</div>
      <div class="mode-title">ã‚«ãƒƒãƒ—ãƒ«ã§æ¯”è¼ƒã™ã‚‹</div>
      <div class="mode-desc">ç›¸æ‰‹ã®çµæœã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ã€äºŒäººã®ã€Œæ„›ã®é‡ã•ã®å¤©ç§¤ã€ã‚’è¦‹ã‚‹ã€‚</div>
    </div>
  </div>
  <div id="couple-code-area" class="hidden">
    <div class="partner-input-section">
      <h3>ç›¸æ‰‹ã®çµæœã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›</h3>
      <input type="text" class="code-input" id="partnerCode" placeholder="ä¾‹: A7B3C5D8E4" maxlength="10">
      <div style="margin-top:8px;font-size:11px;color:var(--text-muted)">ç›¸æ‰‹ã®çµæœç”»é¢ã«è¡¨ç¤ºã•ã‚Œã‚‹10æ¡ã®ã‚³ãƒ¼ãƒ‰</div>
    </div>
  </div>
  <button class="btn btn-primary" onclick="startQuiz()" style="margin-top:12px">è¨ºæ–­ã‚¹ã‚¿ãƒ¼ãƒˆ â™¡</button>
  <div class="footer">â€» æœ¬è¨ºæ–­ã¯ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ†ã‚¤ãƒ¡ãƒ³ãƒˆã§ã™ã€‚è‡¨åºŠçš„ãªè¨ºæ–­ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚<br><a href="https://aicha-store.com" target="_blank">aicha-store.com</a></div>
</div>

<!-- ===== QUIZ ===== -->
<div class="screen" id="screen-quiz">
  <div class="progress-area">
    <div class="progress-bar-wrap"><div class="progress-bar-fill" id="progressBar" style="width:0%"></div></div>
    <div class="progress-text"><span id="progressLabel">Q1 / 15</span><span id="progressCategory"></span></div>
  </div>
  <div id="questionArea"></div>
  <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()" disabled style="margin-top:16px">æ¬¡ã¸ â†’</button>
</div>

<!-- ===== RESULT ===== -->
<div class="screen" id="screen-result"><div id="resultContent"></div></div>

</div>
<script>
// ===== BG HEARTS =====
(function(){const c=document.getElementById('bgHearts');const h=['â™¡','â™¥','â¤','ğŸ’•','ğŸ’—'];for(let i=0;i<20;i++){const s=document.createElement('span');s.textContent=h[i%h.length];s.style.left=Math.random()*100+'%';s.style.fontSize=(12+Math.random()*18)+'px';s.style.animationDuration=(8+Math.random()*12)+'s';s.style.animationDelay=Math.random()*10+'s';c.appendChild(s)}})();

let mode='solo',currentQ=0,answers=[],selectedScore=null,partnerScores=null;

// ===== 12 ANIMAL TYPES =====
const animals=[
{min:15,max:19,lv:1,emoji:'ğŸˆ',name:'æ°—ã¾ãã‚Œè‡ªç”±ãƒã‚³',en:'Free Cat',
  gradient:'linear-gradient(135deg,#8E9AAF,#CBD2D0)',
  ecology:'ãƒã‚³ã¯åŸºæœ¬çš„ã«å˜ç‹¬è¡Œå‹•ã‚’å¥½ã‚€å‹•ç‰©ã€‚è‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ã§ç”˜ãˆãŸã„æ™‚ã ã‘å¯„ã£ã¦ãã¦ã€æº€è¶³ã—ãŸã‚‰é™ã‹ã«å»ã‚‹ã€‚æ„›æƒ…è¡¨ç¾ã¯ã•ã‚Šã’ãªãã€ã§ã‚‚ç¢ºã‹ã«ãã“ã«ã‚ã‚‹ã€‚',
  desc:'ã‚ãªãŸã®æ„›æƒ…ã¯è‡ªç«‹çš„ã§ã€ç›¸æ‰‹ã‚’å°Šé‡ã—ã¤ã¤è‡ªåˆ†ã®æ™‚é–“ã‚‚å¤§åˆ‡ã«ã§ãã‚‹ã‚¿ã‚¤ãƒ—ã€‚æ‹äººã¨ã®è·é›¢æ„ŸãŒçµ¶å¦™ã§ã€ã€Œä¿¡é ¼ã—ã¦ã„ã‚‹ã‹ã‚‰æ”¾ã£ã¦ãŠã‘ã‚‹ã€å¼·ã•ã‚’æŒã£ã¦ã„ã‚‹ã€‚',
  isTarget:false},
{min:20,max:24,lv:2,emoji:'ğŸ¦…',name:'å­¤é«˜ã®ã‚¿ã‚«',en:'Solitary Hawk',
  gradient:'linear-gradient(135deg,#6B705C,#A5A58D)',
  ecology:'ã‚¿ã‚«ã¯åºƒå¤§ãªç¸„å¼µã‚Šã‚’æŒã¡ã€æ™®æ®µã¯å˜ç‹¬ã§ç©ºã‚’èˆã†ã€‚ç¹æ®–æœŸã«ã ã‘ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã¨éã”ã—ã€è¦‹äº‹ãªæ±‚æ„›é£›è¡Œã‚’è¦‹ã›ã‚‹ã€‚å¿…è¦ãªæ™‚ã«å…¨åŠ›ã§æ„›ã‚’ç¤ºã™ã€‚',
  desc:'æ™®æ®µã¯ã‚¯ãƒ¼ãƒ«ã«è¦‹ã‚‰ã‚ŒãŒã¡ã ã‘ã©ã€ã“ã“ãã¨ã„ã†å ´é¢ã§ã¯æ·±ã„æ„›æƒ…ã‚’è¦‹ã›ã‚‹ã‚¿ã‚¤ãƒ—ã€‚æ‹äººã¸ã®ä¿¡é ¼ãŒãƒ™ãƒ¼ã‚¹ã«ã‚ã‚‹ã‹ã‚‰ã€éåº¦ãªå¹²æ¸‰ã¯ã—ãªã„ã€‚ã‹ã£ã“ã„ã„æ„›ã—æ–¹ã€‚',
  isTarget:false},
{min:25,max:29,lv:3,emoji:'ğŸ¬',name:'ç¤¾äº¤çš„ãªã‚¤ãƒ«ã‚«',en:'Social Dolphin',
  gradient:'linear-gradient(135deg,#5B9BD5,#7EC8E3)',
  ecology:'ã‚¤ãƒ«ã‚«ã¯ç¾¤ã‚Œã§ç”Ÿæ´»ã—ã¤ã¤ã€å€‹ä½“é–“ã®é©åº¦ãªè·é›¢ã‚’ä¿ã¤ã€‚éŠã³å¥½ãã§ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³èƒ½åŠ›ãŒé«˜ãã€ä»²é–“ã¨ã®çµ†ã‚’å¤§åˆ‡ã«ã—ãªãŒã‚‰è‡ªç”±ã«æ³³ãã€‚',
  desc:'æ‹äººã¨ã®æ™‚é–“ã‚‚å‹é”ã¨ã®æ™‚é–“ã‚‚ä¸¡æ–¹æ¥½ã—ã‚ã‚‹ãƒãƒ©ãƒ³ã‚¹å‹ã€‚ã‚³ãƒŸãƒ¥åŠ›ãŒé«˜ãã€æ„›æƒ…è¡¨ç¾ã‚‚è‡ªç„¶ä½“ã€‚ã€Œä¸€ç·’ã«ã„ã¦æ¥½ã—ã„ã€ã¨æ€ã‚ã›ã‚‹é­…åŠ›ãŒã‚ã‚‹ã€‚',
  isTarget:false},
{min:30,max:34,lv:4,emoji:'ğŸ•',name:'å¿ å®Ÿãªã‚¤ãƒŒ',en:'Loyal Dog',
  gradient:'linear-gradient(135deg,#C4956A,#E8C07C)',
  ecology:'ã‚¤ãƒŒã¯é£¼ã„ä¸»ã®å¸°ã‚Šã‚’ç„é–¢ã§ã˜ã£ã¨å¾…ã¤ã€‚å¸¸ã«ä¸€ç·’ã«ã„ãŸã„ã¨ã„ã†æ¬²æ±‚ãŒã‚ã‚Šã¤ã¤ã‚‚ã€ã¡ã‚ƒã‚“ã¨å¾…ã¦ã‚‹å¿è€åŠ›ã‚’æŒã¤ã€‚ç„¡æ¡ä»¶ã®æ„›æƒ…ã®è±¡å¾´ã€‚',
  desc:'æ‹äººãŒå¤§å¥½ãã§ã€ä¸€ç·’ã«ã„ã‚‹ã¨å°»å°¾ã‚’æŒ¯ã‚‹ã‚ˆã†ã«å¬‰ã—ããªã‚‹ã‚¿ã‚¤ãƒ—ã€‚ç´ ç›´ãªæ„›æƒ…è¡¨ç¾ãŒé­…åŠ›ã§ã€ç›¸æ‰‹ã®ã€Œå¸°ã‚‹å ´æ‰€ã€ã«ãªã‚Œã‚‹å­˜åœ¨ã€‚å°‘ã—å¯‚ã—ãŒã‚Šå±‹ãªã¨ã“ã‚ã‚‚æ„›ãŠã—ã„ã€‚',
  isTarget:false},
{min:35,max:39,lv:5,emoji:'ğŸ§',name:'ä¸€é€”ãªãƒšãƒ³ã‚®ãƒ³',en:'Devoted Penguin',
  gradient:'linear-gradient(135deg,#2C3E50,#4A6FA5)',
  ecology:'çš‡å¸ãƒšãƒ³ã‚®ãƒ³ã¯æ•°åƒåŒ¹ã®ã‚³ãƒ­ãƒ‹ãƒ¼ã®ä¸­ã‹ã‚‰ã€ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã®é³´ãå£°ã ã‘ã‚’èãåˆ†ã‘ã‚‹ã€‚æ¯å¹´åŒã˜ç›¸æ‰‹ã‚’æ¢ã—å‡ºã—ã€æ¥µå¯’ã®ä¸­ã§åµã‚’æ¸©ã‚åˆã†ã€‚',
  desc:'ã€Œã“ã®äººã€ã¨æ±ºã‚ãŸã‚‰ãƒ–ãƒ¬ãªã„ä¸€é€”ã•ãŒæœ€å¤§ã®æ­¦å™¨ã€‚å°‘ã—ãšã¤ã€Œã‚‚ã£ã¨ä¸€ç·’ã«ã„ãŸã„ã€ã¨ã„ã†æ°—æŒã¡ãŒå¼·ããªã‚‹ã‚¿ã‚¤ãƒ—ã€‚ãã®çœŸã£ç›´ãã•ã€ã‚‚ã£ã¨èª‡ã£ã¦ã„ã„ã€‚',
  isTarget:true},
{min:40,max:44,lv:6,emoji:'ğŸº',name:'ç¾¤ã‚Œã‚’å®ˆã‚‹ã‚ªã‚ªã‚«ãƒŸ',en:'Pack Wolf',
  gradient:'linear-gradient(135deg,#4A4E69,#6B6F8A)',
  ecology:'ã‚ªã‚ªã‚«ãƒŸã¯ã¤ãŒã„ã§ç”Ÿæ¶¯ã‚’å…±ã«ã—ã€ç¾¤ã‚Œã®ä¸­ã§å¸¸ã«è¡Œå‹•ã‚’å…±ã«ã™ã‚‹ã€‚ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã«å±é™ºãŒè¿«ã‚Œã°å‘½ã‚’ã‹ã‘ã¦å®ˆã‚Šã€é å ãˆã§çµ†ã‚’ç¢ºèªã—åˆã†ã€‚',
  desc:'æ‹äººã‚’ã€Œè‡ªåˆ†ã®ç¾¤ã‚Œã€ã¨ã—ã¦å¼·ãå®ˆã‚ŠãŸã„ã‚¿ã‚¤ãƒ—ã€‚äºŒäººã®ä¸–ç•Œã‚’å¤§åˆ‡ã«ã™ã‚‹ã‚ã¾ã‚Šã€å¤–ã®äººé–“é–¢ä¿‚ã«å°‘ã—å«‰å¦¬ã™ã‚‹ã“ã¨ã‚‚ã€‚ãã®ä¿è­·æ¬²ã€å®Ÿã¯ç›¸æ‰‹ã«ã¨ã£ã¦å¿ƒå¼·ã„ã€‚',
  isTarget:true},
{min:45,max:49,lv:7,emoji:'ğŸ¦¢',name:'æ°¸é ã®æ„›ã®ç™½é³¥',en:'Eternal Swan',
  gradient:'linear-gradient(135deg,#C9ADA7,#E8D5CF)',
  ecology:'ç™½é³¥ã¯ç”Ÿæ¶¯åŒã˜ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã¨æ·»ã„é‚ã’ã‚‹ã“ã¨ã§çŸ¥ã‚‰ã‚Œã‚‹ã€‚ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã‚’å¤±ã£ãŸç™½é³¥ã¯é•·æœŸé–“é³´ãç¶šã‘ã€äºŒåº¦ã¨ã¤ãŒã„ã‚’ä½œã‚‰ãªã„å€‹ä½“ã‚‚ã„ã‚‹ã€‚',
  desc:'ã€Œæ°¸é ã®æ„›ã€ã‚’æœ¬æ°—ã§ä¿¡ã˜ã¦ã„ã‚‹ãƒ­ãƒãƒ³ãƒã‚¹ãƒˆã€‚æ‹äººã¨ã®åˆ¥ã‚Œã¯äººç”Ÿæœ€å¤§ã®å±æ©Ÿã«æ„Ÿã˜ã‚‹ã»ã©ã€æ·±ã„æ„›ç€ã‚’æŒã¤ã€‚ãã®æ·±ã•ã¯ç¾ã—ã„ã‘ã©ã€æ™‚ã«è‡ªåˆ†ã‚’ç¸›ã‚‹ã“ã¨ã‚‚ã‚ã‚‹ã€‚',
  isTarget:true},
{min:50,max:54,lv:8,emoji:'ğŸ™',name:'å‘½ãŒã‘æººæ„›ã‚¿ã‚³',en:'Devoted Octopus',
  gradient:'linear-gradient(135deg,#C44B6C,#E07B8B)',
  ecology:'ã‚¿ã‚³ã®ãƒ¡ã‚¹ã¯åµã‚’ç”£ã‚€ã¨ã€å­µåŒ–ã™ã‚‹ã¾ã§ä¸€åˆ‡é£Ÿäº‹ã‚’ã›ãšåµã‚’å®ˆã‚Šç¶šã‘ã‚‹ã€‚ä½•ãƒ¶æœˆã‚‚æ°´æµã‚’é€ã‚Šã€æ±šã‚Œã‚’å–ã‚Šé™¤ãã€å­µåŒ–ã‚’è¦‹å±Šã‘ãŸå¾Œã«å‘½ã‚’çµ‚ãˆã‚‹ã€‚',
  desc:'æ‹äººã®ãŸã‚ãªã‚‰è‡ªåˆ†ã‚’çŠ ç‰²ã«ã§ãã‚‹ã€æ–‡å­—é€šã‚Šã€Œå‘½ãŒã‘ã®æ„›ã€ã€‚è‡ªå·±çŠ ç‰²ãŒç¾å¾³ã ã¨æ„Ÿã˜ã‚‹ã‚¿ã‚¤ãƒ—ã€‚ã§ã‚‚ã­ã€ã‚ãªãŸè‡ªèº«ã‚‚å¤§åˆ‡ã«ã—ã¦ã„ã„ã€‚ãã®æ„›ã¯ååˆ†ã™ãã‚‹ã»ã©ä¼ã‚ã£ã¦ã‚‹ã‹ã‚‰ã€‚',
  isTarget:true},
{min:55,max:59,lv:9,emoji:'ğŸ•·ï¸',name:'æ•ç²å‹ã‚¸ãƒ§ãƒ­ã‚¦ã‚°ãƒ¢',en:'Web Spinner',
  gradient:'linear-gradient(135deg,#7B2D3B,#A04050)',
  ecology:'ã‚¸ãƒ§ãƒ­ã‚¦ã‚°ãƒ¢ã¯ç²¾å·§ãªå·£ã‚’å¼µã‚Šã€ç²ç‰©ã‚’ç³¸ã§åŒ…ã¿è¾¼ã‚€ã€‚ãã®ç³¸ã¯é‹¼é‰„ã®5å€ã®å¼·åº¦ã‚’æŒã¡ã€ä¸€åº¦çµ¡ã¾ã‚Œã°é€ƒã‚Œã‚‹ã“ã¨ã¯ã§ããªã„ã€‚',
  desc:'æ‹äººã¨ã®ã€Œç¹‹ãŒã‚Šã€ã‚’ç‰©ç†çš„ã«ç¢ºä¿ã—ãŸã„ã‚¿ã‚¤ãƒ—ã€‚ä½ç½®æƒ…å ±ã€é€£çµ¡é »åº¦ã€äº¤å‹é–¢ä¿‚â€¦ã‚ã‚‰ã‚†ã‚‹ç³¸ã§é–¢ä¿‚ã‚’å›ºã‚ãŸã„ã€‚ãã®åŸ·å¿µæ·±ã•ã¯æ€–ã„ã»ã©ç¾ã—ã„ã€‚è‡ªè¦šã‚ã‚‹ã§ã—ã‚‡ï¼Ÿ',
  isTarget:true},
{min:60,max:64,lv:10,emoji:'ğŸ«§',name:'èåˆã™ã‚‹ã‚¢ãƒ³ã‚³ã‚¦',en:'Fused Angler',
  gradient:'linear-gradient(135deg,#1B2A4A,#3D5A8C)',
  ecology:'ãƒãƒ§ã‚¦ãƒãƒ³ã‚¢ãƒ³ã‚³ã‚¦ã®ã‚ªã‚¹ã¯ãƒ¡ã‚¹ã«å™›ã¿ã¤ãã¨ã€ã‚„ãŒã¦è¡€ç®¡ãŒèåˆã—ã€å†…è‡“ã‚‚å…±æœ‰ã—ã¦æ–‡å­—é€šã‚Šä¸€ä½“åŒ–ã™ã‚‹ã€‚äºŒåº¦ã¨é›¢ã‚Œã‚‹ã“ã¨ã¯ãªã„ã€‚ç©¶æ¥µã®ã€Œé›¢ã‚Œã‚‰ã‚Œãªã„ã€ã€‚',
  desc:'æ‹äººã¨è‡ªåˆ†ã®å¢ƒç•Œç·šãŒæº¶ã‘ã‹ã‘ã¦ã„ã‚‹ã€‚ç›¸æ‰‹ã®æ„Ÿæƒ…ï¼è‡ªåˆ†ã®æ„Ÿæƒ…ã€‚ç›¸æ‰‹ã®ä¸åœ¨ï¼è‡ªåˆ†ã®æ¶ˆå¤±ã€‚ã‚‚ã¯ã‚„äºŒäººã§ä¸€ã¤ã®ç”Ÿå‘½ä½“ã€‚ãã®èåˆé¡˜æœ›ã¯ã€å…±ä¾å­˜ã®æ¥µè‡´ã§ã‚ã‚Šã€ã‚ã‚‹æ„å‘³ã§ç©¶æ¥µã®æ„›ã®å½¢ã€‚',
  isTarget:true},
{min:65,max:70,lv:11,emoji:'ğŸ¦‚',name:'æ¯’æ„›ã®ã‚µã‚½ãƒª',en:'Poison Scorpion',
  gradient:'linear-gradient(135deg,#4A0E0E,#8B2020)',
  ecology:'ã‚µã‚½ãƒªã®æ±‚æ„›ãƒ€ãƒ³ã‚¹ã¯æ•°æ™‚é–“ã‹ã‚‰æ•°æ—¥ç¶šãã€‚ã‚ªã‚¹ã¯ãƒ¡ã‚¹ã®é‹ã‚’æ´ã¿ã€å»¶ã€…ã¨è¸Šã‚Šç¶šã‘ã‚‹ã€‚äº¤å°¾å¾Œã€ãƒ¡ã‚¹ãŒã‚ªã‚¹ã‚’é£Ÿã¹ã‚‹ã“ã¨ã‚‚ã€‚æ„›ã¨æ¯’ãŒè¡¨è£ä¸€ä½“ã€‚',
  desc:'æ„›ãŒæ¯’ã«ãªã‚Šã‹ã‘ã¦ã„ã‚‹ã€‚ã‚ã‚‹ã„ã¯ã€ã‚‚ã†æ¯’ã ã¨åˆ†ã‹ã£ã¦ã„ã¦æ­¢ã‚ã‚‰ã‚Œãªã„ã€‚ã€Œå¥½ãã™ãã¦å£Šã—ãŸããªã‚‹ã€ã€Œé›¢ã‚Œã‚‰ã‚Œãªã„ãªã‚‰ç›¸æ‰‹ã‚‚å·»ãè¾¼ã‚€ã€â€”ãã®æ¿€ã—ã•ãŒã€ã‚ãªãŸã®æ„›ã®æ­£ä½“ã€‚',
  isTarget:true},
{min:71,max:75,lv:12,emoji:'ğŸ”¥',name:'é™ç•Œçªç ´ã®ä¸æ­»é³¥',en:'Immortal Phoenix',
  gradient:'linear-gradient(135deg,#C0392B,#F39C12,#E74C3C)',
  ecology:'ä¸æ­»é³¥ã¯è‡ªã‚‰ã®ç‚ã§ç‡ƒãˆå°½ãã€ç°ã®ä¸­ã‹ã‚‰ä½•åº¦ã§ã‚‚è˜‡ã‚‹ã€‚ç¥è©±ã«ãŠã„ã¦ã€Œæ°¸é ã®æ„›ã€ã¨ã€Œå†ç”Ÿã€ã®è±¡å¾´ã€‚æ­»ã™ã‚‰ã‚‚æ„›ã‚’çµ‚ã‚ã‚‰ã›ã‚‹ã“ã¨ãŒã§ããªã„ã€‚',
  desc:'ã‚‚ã†ç”Ÿç‰©ã®æ ã‚’è¶…ãˆãŸã€‚ä½•åº¦å‚·ã¤ã„ã¦ã‚‚ã€è£åˆ‡ã‚‰ã‚Œã¦ã‚‚ã€ç‡ƒãˆå°½ãã¦ã‚‚ã€ã¾ãŸæ„›ã—ã¦ã—ã¾ã†ã€‚ãã‚Œã¯ç—…æ°—ã˜ã‚ƒãªã„ã€‚ã‚‚ã¯ã‚„æ‰èƒ½ã€‚ã€Œå¥½ããŒé‡ã„ã£ã¦ã€æœ€é«˜ã˜ã‚ƒã‚“ã€‚ã€â€”ã“ã®è¨€è‘‰ã¯ã€ã‚ãªãŸã®ãŸã‚ã«ç”Ÿã¾ã‚ŒãŸã€‚',
  isTarget:true},
];

// ===== QUESTIONS (same 15) =====
const questions=[
{dim:'A',cat:'åŸ·ç€ä¸å®‰',text:'æ‹äººã‹ã‚‰LINEã®è¿”ä¿¡ãŒ3æ™‚é–“æ¥ãªã„ã¨ãã€ã‚ãªãŸã¯ã©ã†ãªã‚‹ï¼Ÿ',opts:[{text:'ç‰¹ã«æ°—ã«ãªã‚‰ãªã„ã€‚è‡ªåˆ†ã®ã“ã¨ã‚’ã—ã¦ã„ã‚‹',score:1},{text:'å°‘ã—ã‚½ãƒ¯ã‚½ãƒ¯ã™ã‚‹ã‘ã©ã€å¾…ã¦ã‚‹',score:2},{text:'ã‹ãªã‚Šæ°—ã«ãªã£ã¦ã€ä½•åº¦ã‚‚ã‚¹ãƒãƒ›ã‚’è¦‹ã‚‹',score:3},{text:'ä¸å®‰ã§ä½•ã‚‚æ‰‹ã«ã¤ã‹ãªã„ã€‚å«Œã‚ã‚ŒãŸï¼Ÿã¨è€ƒãˆå§‹ã‚ã‚‹',score:4},{text:'è¿½ã„LINEã‚’é€ã‚‹ã‹ã€é›»è©±ã‚’ã‹ã‘ã¦ã—ã¾ã†',score:5}]},
{dim:'A',cat:'åŸ·ç€ä¸å®‰',text:'æ‹äººãŒç•°æ€§ã®å‹é”ã¨äºŒäººã§é£Ÿäº‹ã«è¡Œãã¨èã„ãŸã‚‰ï¼Ÿ',opts:[{text:'ã€Œæ¥½ã—ã‚“ã§ãã¦ã­ã€ã¨ç´ ç›´ã«æ€ãˆã‚‹',score:1},{text:'å°‘ã—ãƒ¢ãƒ¤ã£ã¨ã™ã‚‹ã‘ã©ã€ä¿¡ã˜ã¦é€ã‚Šå‡ºã™',score:2},{text:'è¡Œã£ã¦ã»ã—ããªã„ã¨ä¼ãˆã‚‹',score:3},{text:'ã€Œç§/åƒ•ã‚‚è¡Œãã€ã¨è¨€ã†ã€‚ã‚‚ã—ãã¯äºˆå®šã‚’å¤‰ãˆã¦ã‚‚ã‚‰ã†',score:4},{text:'ãã®ç•°æ€§ãŒèª°ãªã®ã‹å¾¹åº•çš„ã«èª¿ã¹ã‚‹',score:5}]},
{dim:'A',cat:'åŸ·ç€ä¸å®‰',text:'æ‹äººãŒã€Œä¸€äººã®æ™‚é–“ãŒã»ã—ã„ã€ã¨è¨€ã£ãŸã‚‰ï¼Ÿ',opts:[{text:'è‡ªç„¶ãªã“ã¨ã€‚è‡ªåˆ†ã‚‚ä¸€äººæ™‚é–“ã¯å¤§åˆ‡',score:1},{text:'å°‘ã—å¯‚ã—ã„ã‘ã©å°Šé‡ã™ã‚‹',score:2},{text:'ã€Œç§/åƒ•ã¨ã„ã‚‹ã®ãŒå«Œãªã®ï¼Ÿã€ã¨èã„ã¦ã—ã¾ã†',score:3},{text:'ç†ç”±ãŒæ°—ã«ãªã£ã¦ä»•æ–¹ãªã„ã€‚æœ¬å½“ã«ä¸€äººï¼Ÿ',score:4},{text:'è‡ªåˆ†ãŒä½•ã‹ã—ãŸã®ã‹ã¨è‡ªè²¬ã—å§‹ã‚ã‚‹',score:5}]},
{dim:'B',cat:'æ‰¿èªæ¬²æ±‚',text:'æ‹äººã«ã€Œå¥½ãã€ã¨è¨€ã£ã¦ã‚‚ã‚‰ãˆã‚‹é »åº¦ã«ã¤ã„ã¦ã€ã©ã†æ€ã†ï¼Ÿ',opts:[{text:'æ…‹åº¦ã§åˆ†ã‹ã‚‹ã‹ã‚‰ã€è¨€è‘‰ã¯ãã“ã¾ã§é‡è¦ã˜ã‚ƒãªã„',score:1},{text:'ãŸã¾ã«è¨€ã£ã¦ãã‚Œã‚‹ã¨å¬‰ã—ã„',score:2},{text:'æ¯æ—¥è¨€ã£ã¦ã»ã—ã„ã€‚è¨€ã‚ã‚Œãªã„ã¨ä¸å®‰',score:3},{text:'1æ—¥ã«ä½•åº¦ã‚‚è¨€ã£ã¦ã»ã—ã„ã€‚è¨€è‘‰ã§ç¢ºèªã—ãŸã„',score:4},{text:'ã€Œä¸–ç•Œã§ä¸€ç•ªå¥½ãã€ã€Œä¸€ç”Ÿé›¢ã‚Œãªã„ã€ãƒ¬ãƒ™ãƒ«ã®è¨€è‘‰ãŒå¿…è¦',score:5}]},
{dim:'B',cat:'æ‰¿èªæ¬²æ±‚',text:'SNSã§ã®æ‹äººã¨ã®é–¢ä¿‚ã«ã¤ã„ã¦ï¼š',opts:[{text:'SNSã«æ‹æ„›ã¯è¼‰ã›ãªã„ä¸»ç¾©',score:1},{text:'è¨˜å¿µæ—¥ãã‚‰ã„ã¯è¼‰ã›ã‚‹ã‹ã‚‚',score:2},{text:'äºŒäººã®å†™çœŸã¯å®šæœŸçš„ã«æŠ•ç¨¿ã™ã‚‹',score:3},{text:'ãƒ—ãƒ­ãƒ•ã‚„æŠ•ç¨¿ã§ã€Œå½¼æ°/å½¼å¥³ã„ã¾ã™ã€ã‚¢ãƒ”ãƒ¼ãƒ«ã—ãŸã„',score:4},{text:'æ‹äººãŒè‡ªåˆ†ã¨ã®å†™çœŸã‚’è¼‰ã›ã¦ãã‚Œãªã„ã¨æ€’ã‚‹',score:5}]},
{dim:'B',cat:'æ‰¿èªæ¬²æ±‚',text:'æ‹äººãŒè‡ªåˆ†ã®ã“ã¨ã‚’å‹é”ã«è‡ªæ…¢ã—ã¦ãã‚ŒãŸã‚‰ï¼š',opts:[{text:'æ¥ãšã‹ã—ã„ã‹ã‚‰ã‚„ã‚ã¦ã»ã—ã„',score:1},{text:'å¬‰ã—ã„ã‘ã©ã€ã‚ã¾ã‚Šè¦‹ã›ãªãã¦ã„ã„ã‚ˆ',score:2},{text:'å¬‰ã—ã„ã€‚ã‚‚ã£ã¨è‡ªæ…¢ã—ã¦ã»ã—ã„',score:3},{text:'è‡ªæ…¢ã—ã¦ãã‚Œãªã„ã¨ã€æœ¬å½“ã«å¥½ããªã®ï¼Ÿã¨æ€ã†',score:4},{text:'ã€Œä¿º/ç§ã®æ‹äººã€æœ€é«˜ã§ã—ã‚‡ï¼Ÿã€ã£ã¦è¨€ã£ã¦ã»ã—ã„',score:5}]},
{dim:'C',cat:'æ„Ÿæƒ…èåˆ',text:'æ‹äººã®æ„Ÿæƒ…ã¨è‡ªåˆ†ã®æ„Ÿæƒ…ã®é–¢ä¿‚ã¯ï¼š',opts:[{text:'ç›¸æ‰‹ã¯ç›¸æ‰‹ã€è‡ªåˆ†ã¯è‡ªåˆ†ã€‚ç‹¬ç«‹ã—ã¦ã„ã‚‹',score:1},{text:'å½±éŸ¿ã¯å—ã‘ã‚‹ãŒã€è‡ªåˆ†ã®æ°—æŒã¡ã¯æŒã£ã¦ã„ã‚‹',score:2},{text:'æ‹äººãŒè½ã¡è¾¼ã‚€ã¨è‡ªåˆ†ã‚‚ã‹ãªã‚Šè½ã¡è¾¼ã‚€',score:3},{text:'æ‹äººã®æ©Ÿå«ŒãŒè‡ªåˆ†ã®ä¸€æ—¥ã‚’å®Œå…¨ã«å·¦å³ã™ã‚‹',score:4},{text:'æ‹äººãŒå¹¸ã›ã˜ã‚ƒãªã„ãªã‚‰ã€è‡ªåˆ†ã‚‚å¹¸ã›ã«ãªã‚Œãªã„',score:5}]},
{dim:'C',cat:'æ„Ÿæƒ…èåˆ',text:'æ‹äººã¨æ„è¦‹ãŒé•ã£ãŸã¨ãï¼š',opts:[{text:'é•ã„ã‚’èªã‚ã¤ã¤ã€ãŠäº’ã„å°Šé‡ã™ã‚‹',score:1},{text:'è©±ã—åˆã£ã¦è½ã¨ã—ã©ã“ã‚ã‚’è¦‹ã¤ã‘ã‚‹',score:2},{text:'ç›¸æ‰‹ã«åˆã‚ã›ã‚‹ã“ã¨ãŒå¤šã„',score:3},{text:'ç›¸æ‰‹ãŒæ­£ã—ã„ã¨æ€ã„è¾¼ã‚“ã§ã—ã¾ã†',score:4},{text:'è‡ªåˆ†ã®æ„è¦‹ã¯æ‹äººã®æ„è¦‹ã¨åŒã˜ã§ã‚ã‚‹ã¹ã',score:5}]},
{dim:'C',cat:'æ„Ÿæƒ…èåˆ',text:'æ‹äººãŒã„ãªã„ã€Œè‡ªåˆ†ã€ã«ã¤ã„ã¦ï¼š',opts:[{text:'æ‹äººãŒã„ãªãã¦ã‚‚è‡ªåˆ†ã¯è‡ªåˆ†',score:1},{text:'ã„ãŸã»ã†ãŒæ¥½ã—ã„ã‘ã©ã€ä¸€äººã§ã‚‚å¤§ä¸ˆå¤«',score:2},{text:'æ‹äººãŒã„ãªã„ã¨è‡ªåˆ†ã®ä¾¡å€¤ãŒä¸‹ãŒã‚‹æ°—ãŒã™ã‚‹',score:3},{text:'æ‹äººãªã—ã®äººç”Ÿã¯è€ƒãˆã‚‰ã‚Œãªã„',score:4},{text:'æ‹äººï¼è‡ªåˆ†ã®å­˜åœ¨æ„ç¾©',score:5}]},
{dim:'D',cat:'è¡Œå‹•æŸç¸›',text:'æ‹äººã®ã‚¹ãƒãƒ›ã«ã¤ã„ã¦ï¼š',opts:[{text:'è¦‹ãŸã„ã¨ã‚‚æ€ã‚ãªã„ã€‚ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã¯å¤§äº‹',score:1},{text:'è¦‹ãŸã„æ°—æŒã¡ã¯ã‚ã‚‹ã‘ã©ã€è¦‹ãªã„',score:2},{text:'ä¸€ç·’ã«ã„ã‚‹ã¨ãã¯ç”»é¢ãŒæ°—ã«ãªã‚‹',score:3},{text:'ãƒ‘ã‚¹ã‚³ãƒ¼ãƒ‰ã¯å…±æœ‰ã™ã‚‹ã®ãŒå½“ç„¶ã ã¨æ€ã†',score:4},{text:'ã“ã£ãã‚Šè¦‹ãŸã“ã¨ãŒã‚ã‚‹/å®šæœŸçš„ã«ãƒã‚§ãƒƒã‚¯ã—ãŸã„',score:5}]},
{dim:'D',cat:'è¡Œå‹•æŸç¸›',text:'æ‹äººã®ä½ç½®æƒ…å ±ï¼ˆã‚¼ãƒ³ãƒªãƒ¼ç­‰ï¼‰ã«ã¤ã„ã¦ï¼š',opts:[{text:'å…±æœ‰ã™ã‚‹å¿…è¦ã¯å…¨ããªã„',score:1},{text:'å®‰å…¨ã®ãŸã‚ãªã‚‰å…±æœ‰ã—ã¦ã‚‚ã„ã„ã‹ã‚‚',score:2},{text:'ãŠäº’ã„å…±æœ‰ã™ã‚‹ã®ã¯æ™®é€šã ã¨æ€ã†',score:3},{text:'å…±æœ‰ã—ã¦ãã‚Œãªã„ã¨ä¸å®‰',score:4},{text:'å¸¸ã«ãƒã‚§ãƒƒã‚¯ã—ã¦ã„ã‚‹/ã—ãŸã„',score:5}]},
{dim:'D',cat:'è¡Œå‹•æŸç¸›',text:'æ‹äººã®äº¤å‹é–¢ä¿‚ã«ã¤ã„ã¦ï¼š',opts:[{text:'å¹²æ¸‰ã—ãªã„ã€‚è‡ªç”±ã«ä»˜ãåˆã£ã¦ã»ã—ã„',score:1},{text:'åŸºæœ¬è‡ªç”±ã ã‘ã©ã€èª°ã¨ä¼šã†ã‹ã¯çŸ¥ã‚ŠãŸã„',score:2},{text:'ç•°æ€§ã¨ã®é€£çµ¡ã¯ã‚ã¾ã‚Šã—ã¦ã»ã—ããªã„',score:3},{text:'è‡ªåˆ†ãŒæŠŠæ¡ã—ã¦ã„ãªã„äººã¨ä¼šã†ã®ã¯NG',score:4},{text:'è‡ªåˆ†ä»¥å¤–ã®äººã¨éŠã¶æ™‚é–“ã‚’æœ€å°é™ã«ã—ã¦ã»ã—ã„',score:5}]},
{dim:'E',cat:'è‡ªå·±çŠ ç‰²',text:'æ‹äººã®ãŸã‚ã«è‡ªåˆ†ã‚’çŠ ç‰²ã«ã™ã‚‹ã“ã¨ã«ã¤ã„ã¦ï¼š',opts:[{text:'è‡ªåˆ†ã‚’å¤§åˆ‡ã«ã—ãŸã†ãˆã§ã€ç›¸æ‰‹ã‚‚å¤§åˆ‡ã«ã™ã‚‹',score:1},{text:'ãŸã¾ã«ã¯æˆ‘æ…¢ã‚‚ã™ã‚‹ã‘ã©ã€ãƒãƒ©ãƒ³ã‚¹ã¯å–ã‚‹',score:2},{text:'ç›¸æ‰‹ãŒå–œã¶ãªã‚‰ã€è‡ªåˆ†ã®äºˆå®šã¯ã„ã¤ã§ã‚‚å¤‰ãˆã‚‹',score:3},{text:'æ‹äººã®ãŸã‚ãªã‚‰å‹é”ä»˜ãåˆã„ã‚‚çŠ ç‰²ã«ã§ãã‚‹',score:4},{text:'æ‹äººã®ãŸã‚ãªã‚‰ä½•ã§ã‚‚ã§ãã‚‹ã€‚è‡ªåˆ†ãªã‚“ã¦å¾Œã§ã„ã„',score:5}]},
{dim:'E',cat:'è‡ªå·±çŠ ç‰²',text:'æ‹äººã«ç†ä¸å°½ã«æ€’ã‚‰ã‚ŒãŸã¨ãï¼š',opts:[{text:'ç†ä¸å°½ãªã‚‰ã€Œãã‚Œã¯é•ã†ã€ã¨ä¼ãˆã‚‹',score:1},{text:'ã¡ã‚ƒã‚“ã¨è©±ã—åˆãŠã†ã¨ã™ã‚‹',score:2},{text:'è‡ªåˆ†ãŒæ‚ªã‹ã£ãŸã®ã‹ãªâ€¦ã¨è€ƒãˆã‚‹',score:3},{text:'ã¨ã«ã‹ãè¬ã‚‹ã€‚æ€’ã‚‰ã›ãŸè‡ªåˆ†ãŒæ‚ªã„',score:4},{text:'å«Œã‚ã‚ŒãŸããªã„ã‹ã‚‰ä½•ã§ã‚‚å—ã‘å…¥ã‚Œã‚‹',score:5}]},
{dim:'E',cat:'è‡ªå·±çŠ ç‰²',text:'æ‹äººã‹ã‚‰ã€Œåˆ¥ã‚ŒãŸã„ã€ã¨è¨€ã‚ã‚ŒãŸã‚‰ï¼š',opts:[{text:'æ‚²ã—ã„ã‘ã©ã€ãŠäº’ã„ã®ãŸã‚ã«å—ã‘å…¥ã‚Œã‚‹',score:1},{text:'ç†ç”±ã‚’èã„ã¦ã€æ”¹å–„ã§ãã‚‹ã‹è©±ã—åˆã†',score:2},{text:'ã€Œä½•ã§ã‚‚ã™ã‚‹ã‹ã‚‰åˆ¥ã‚Œãªã„ã§ã€ã¨è¨€ã†',score:3},{text:'ç›¸æ‰‹ãŒå¤‰ã‚ã‚‹ã¾ã§èª¬å¾—ã—ç¶šã‘ã‚‹',score:4},{text:'è‡ªåˆ†ãªã—ã§ã¯ç”Ÿãã¦ã„ã‘ãªã„ã¨æ„Ÿã˜ã‚‹ã€‚ä¸–ç•ŒãŒçµ‚ã‚ã‚‹',score:5}]},
];

const dimNames={A:'åŸ·ç€ä¸å®‰',B:'æ‰¿èªæ¬²æ±‚',C:'æ„Ÿæƒ…èåˆ',D:'è¡Œå‹•æŸç¸›',E:'è‡ªå·±çŠ ç‰²'};
const dimColors={A:'#E74C6F',B:'#E8A87C',C:'#D4736C',D:'#C4A265',E:'#9B6B8A'};
const dimDescs={A:'åˆ¥é›¢ä¸å®‰ã€‚æ„›ç€ç†è«–ã«ãŠã‘ã‚‹ã€Œä¸å®‰å‹æ„›ç€ã€ã®ä¸­æ ¸ã€‚',B:'æ‰¿èªãƒ»è¨€èªçš„æ„›æƒ…ã®è¦æ±‚åº¦ã€‚PCMã®ã€Œæ„Ÿæƒ…å‹ã€ã€‚',C:'è‡ªä»–å¢ƒç•Œã®æ›–æ˜§ã•ã€‚äº¤æµåˆ†æã®ã€Œå…±ç”Ÿé–¢ä¿‚ã€ã€‚',D:'ç›¸æ‰‹ã®è¡Œå‹•ã‚’æŠŠæ¡ãƒ»åˆ¶é™ã—ãŸã„åº¦åˆã„ã€‚',E:'è‡ªå·±çŠ ç‰²ã§é–¢ä¿‚ã‚’ç¶­æŒã™ã‚‹å‚¾å‘ã€‚å…±ä¾å­˜ã®æ ¸å¿ƒã€‚'};

function selectMode(m){mode=m;document.getElementById('mode-solo').classList.toggle('selected',m==='solo');document.getElementById('mode-couple').classList.toggle('selected',m==='couple');document.getElementById('couple-code-area').classList.toggle('hidden',m!=='couple')}

function startQuiz(){
  if(mode==='couple'){const code=document.getElementById('partnerCode').value.trim();if(code.length===10){partnerScores=decodeResult(code);if(!partnerScores){alert('ã‚³ãƒ¼ãƒ‰ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚');return}}else if(code.length>0){alert('10æ¡ã®ã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚');return}}
  currentQ=0;answers=[];showScreen('screen-quiz');renderQuestion();
}
function showScreen(id){document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));document.getElementById(id).classList.add('active');window.scrollTo({top:0,behavior:'smooth'})}

function renderQuestion(){
  const q=questions[currentQ];const pct=(currentQ/questions.length*100).toFixed(0);
  document.getElementById('progressBar').style.width=pct+'%';
  document.getElementById('progressLabel').textContent=`Q${currentQ+1} / ${questions.length}`;
  document.getElementById('progressCategory').textContent=q.cat;
  let h=`<div class="q-card" key="${currentQ}"><div class="q-category">${q.cat}</div><div class="q-number">Question ${currentQ+1}</div><div class="q-text">${q.text}</div><div class="options">`;
  q.opts.forEach((o,i)=>{h+=`<div class="option" onclick="selectOption(${i},${o.score})"><div class="option-dot"></div><div>${o.text}</div></div>`});
  h+=`</div></div>`;document.getElementById('questionArea').innerHTML=h;document.getElementById('nextBtn').disabled=true;
}
function selectOption(idx,score){selectedScore=score;document.querySelectorAll('.option').forEach((o,i)=>o.classList.toggle('selected',i===idx));document.getElementById('nextBtn').disabled=false}
function nextQuestion(){if(selectedScore===null)return;answers.push({dim:questions[currentQ].dim,score:selectedScore});selectedScore=null;currentQ++;if(currentQ>=questions.length){document.getElementById('progressBar').style.width='100%';showResult()}else{renderQuestion()}}

function calcScores(){const dims={A:0,B:0,C:0,D:0,E:0};answers.forEach(a=>dims[a.dim]+=a.score);const total=Object.values(dims).reduce((s,v)=>s+v,0);return{dims,total}}
function encodeResult(dims){const e=v=>Math.round((v-3)/12*9);return'A'+e(dims.A)+'B'+e(dims.B)+'C'+e(dims.C)+'D'+e(dims.D)+'E'+e(dims.E)}
function decodeResult(code){const m=code.match(/^A(\d)B(\d)C(\d)D(\d)E(\d)$/);if(!m)return null;const d=v=>Math.round(parseInt(v)/9*12+3);return{dims:{A:d(m[1]),B:d(m[2]),C:d(m[3]),D:d(m[4]),E:d(m[5])},total:d(m[1])+d(m[2])+d(m[3])+d(m[4])+d(m[5])}}

function getAnimal(total){return animals.find(a=>total>=a.min&&total<=a.max)||animals[animals.length-1]}

function showResult(){
  const scores=calcScores();const code=encodeResult(scores.dims);const a=getAnimal(scores.total);const pct=Math.round((scores.total-15)/60*100);
  let h='';

  // Animal Card
  h+=`<div class="animal-card" style="background:${a.gradient};animation:cardReveal .8s ease">`;
  h+=`<div class="lv-badge">Lv.${a.lv} / 12</div>`;
  h+=`<div class="animal-emoji">${a.emoji}</div>`;
  h+=`<div class="animal-name">${a.name}</div>`;
  h+=`<div class="animal-sub">${a.en}</div>`;
  h+=`<div class="score-big">${scores.total}<span> / 75</span></div>`;
  h+=`</div>`;

  // Description
  h+=`<div class="bio-card">`;
  h+=`<div class="bio-title">ğŸ’¬ ã‚ãªãŸã®æººæ„›ã‚¹ã‚¿ã‚¤ãƒ«</div>`;
  h+=`${a.desc}`;
  h+=`<div class="ecology">ğŸ”¬ <strong>ã“ã®å‹•ç‰©ã®ç”Ÿæ…‹ï¼š</strong><br>${a.ecology}</div>`;
  h+=`</div>`;

  // 5-Dimension bars
  h+=`<div class="dim-section"><h3>ğŸ“Š 5æ¬¡å…ƒåˆ†æ</h3>`;
  Object.keys(dimNames).forEach(d=>{
    const val=scores.dims[d];const dimPct=Math.round((val-3)/12*100);
    h+=`<div class="dim-row"><div class="dim-label"><span>${dimNames[d]}</span><span>${val} / 15</span></div>`;
    h+=`<div class="dim-bar"><div class="dim-bar-fill" style="width:${dimPct}%;background:${dimColors[d]}"></div></div></div>`;
  });
  h+=`<div style="margin-top:14px;font-size:11px;color:var(--text-muted);line-height:1.7">`;
  Object.keys(dimDescs).forEach(d=>{h+=`<div style="margin-bottom:3px"><strong style="color:${dimColors[d]}">${dimNames[d]}ï¼š</strong>${dimDescs[d]}</div>`});
  h+=`</div></div>`;

  // Tier List
  h+=`<div class="tier-list"><h3>ğŸ† å…¨12ã‚¿ã‚¤ãƒ—ä¸€è¦§</h3>`;
  animals.forEach(t=>{
    const isCurrent=t.lv===a.lv;
    h+=`<div class="tier-row${isCurrent?' current':''}">`;
    h+=`<div class="t-emoji">${t.emoji}</div>`;
    h+=`<div class="t-name">${isCurrent?'â–¶ ':''}${t.name}</div>`;
    h+=`<div class="t-range">${t.min}ã€œ${t.max}</div>`;
    h+=`</div>`;
  });
  h+=`</div>`;

  // Couple
  if(partnerScores){
    const my=scores.total,their=partnerScores.total,balance=my/(my+their)*100,diff=my-their;
    const pa=getAnimal(their);
    let analysis='';
    if(Math.abs(diff)<=5)analysis=`äºŒäººã¨ã‚‚åŒã˜ãã‚‰ã„ã®æººæ„›åº¦ï¼ã€Œ${a.name}ã€ã¨ã€Œ${pa.name}ã€ã®ãŠä¼¼åˆã„ã‚«ãƒƒãƒ—ãƒ«ã€‚æ¯ã´ã£ãŸã‚Šã®æººæ„›ã‚³ãƒ³ãƒ“ã€‚`;
    else if(diff>5)analysis=`ã‚ãªãŸ(${a.name})ã®æ–¹ãŒ${diff}ãƒã‚¤ãƒ³ãƒˆé‡ã„ï¼æ„›ãŒå…ˆè¡Œã—ã¦ã„ã‚‹åˆ†ã€æ™‚ã«ä¸å®‰ã‚’æ„Ÿã˜ã‚‹ã“ã¨ã‚‚ã€‚ç›¸æ‰‹ã«ã‚‚ç”˜ãˆã¦ã‚‚ã‚‰ã†ç©ºé–“ã‚’ä½œã‚‹ã¨å¤©ç§¤ãŒå®‰å®šã™ã‚‹ã‹ã‚‚ã€‚`;
    else analysis=`ç›¸æ‰‹(${pa.name})ã®æ–¹ãŒ${Math.abs(diff)}ãƒã‚¤ãƒ³ãƒˆé‡ã„ï¼å®Ÿã¯ã‚ãªãŸãŒæ„›ã•ã‚Œã‚‹å´ã€‚ãã®æ„›ã€ã¡ã‚ƒã‚“ã¨å—ã‘æ­¢ã‚ã¦ã‚ã’ã¦ã­ã€‚`;

    h+=`<div class="couple-section"><h3>ğŸ’‘ ã‚«ãƒƒãƒ—ãƒ«æ„›ã®å¤©ç§¤</h3>`;
    h+=`<div class="couple-compare">`;
    h+=`<div class="couple-person"><div class="emoji">${a.emoji}</div><div class="name">ã‚ãªãŸ</div><div class="score">${my}</div></div>`;
    h+=`<div class="couple-vs">âš–ï¸</div>`;
    h+=`<div class="couple-person"><div class="emoji">${pa.emoji}</div><div class="name">ç›¸æ‰‹</div><div class="score">${their}</div></div>`;
    h+=`</div>`;
    h+=`<div class="couple-balance-bar"><div class="couple-balance-dot" style="left:calc(${balance}% - 10px)"></div></div>`;
    h+=`<div class="couple-balance-labels"><span>ç›¸æ‰‹ãŒé‡ã„</span><span>å‡è¡¡</span><span>ã‚ãªãŸãŒé‡ã„</span></div>`;
    h+=`<div class="couple-analysis">${analysis}</div>`;

    h+=`<div style="margin-top:16px">`;
    Object.keys(dimNames).forEach(d=>{
      const myV=scores.dims[d],thV=partnerScores.dims[d],myP=(myV-3)/12*100,thP=(thV-3)/12*100;
      h+=`<div style="margin-bottom:10px"><div style="font-size:11px;font-weight:600;margin-bottom:3px">${dimNames[d]}</div>`;
      h+=`<div style="display:flex;gap:4px;align-items:center">`;
      h+=`<div style="flex:1;height:6px;background:#F0E6E7;border-radius:3px;overflow:hidden"><div style="height:100%;width:${myP}%;background:${dimColors[d]};border-radius:3px"></div></div>`;
      h+=`<div style="font-size:10px;color:var(--text-muted);min-width:40px;text-align:center">${myV}:${thV}</div>`;
      h+=`<div style="flex:1;height:6px;background:#F0E6E7;border-radius:3px;overflow:hidden;direction:rtl"><div style="height:100%;width:${thP}%;background:${dimColors[d]};opacity:0.5;border-radius:3px"></div></div>`;
      h+=`</div></div>`;
    });
    h+=`</div></div>`;
  }

  // Share Code
  h+=`<div class="partner-input-section"><h3>ğŸ”— ç›¸æ‰‹ã«é€ã‚‹ã‚³ãƒ¼ãƒ‰</h3>`;
  h+=`<div class="code-display">${code}</div>`;
  h+=`<div style="font-size:12px;color:var(--text-light);line-height:1.7">ã“ã®ã‚³ãƒ¼ãƒ‰ã‚’æ‹äººã«é€ã£ã¦<br>ã€Œã‚«ãƒƒãƒ—ãƒ«ã§æ¯”è¼ƒã™ã‚‹ã€ãƒ¢ãƒ¼ãƒ‰ã§å…¥åŠ›ã—ã¦ã‚‚ã‚‰ãŠã†ï¼</div></div>`;

  // CTA (target only)
  if(a.isTarget){
    h+=`<div class="aicha-cta">`;
    h+=`<h3>å¥½ããŒé‡ã„ã£ã¦ã€æœ€é«˜ã˜ã‚ƒã‚“ã€‚</h3>`;
    h+=`<p>ãã®æº¢ã‚Œã‚‹æ„›ã‚’ã€ã‚«ã‚¿ãƒã«ã—ã‚ˆã†ã€‚<br>aicha ã®ãƒšã‚¢ãƒ«ãƒƒã‚¯ T ã‚·ãƒ£ãƒ„ã§<br>ã€Œä¸€ç·’ã«ç€ã‚ˆã†ã‚ˆï¼ã€ã£ã¦è¨€ã£ã¦ã¿ãªã„ï¼Ÿ</p>`;
    h+=`<a href="https://aicha.official.ec/items/136344979" target="_blank" rel="noopener" class="btn">aicha SHOP ã‚’è¦‹ã‚‹ â†’</a>`;
    h+=`</div>`;
  }

  // Share / Retry
  h+=`<div class="share-row">`;
  h+=`<button class="btn btn-secondary" onclick="shareResult()">çµæœã‚’ã‚·ã‚§ã‚¢</button>`;
  h+=`<button class="btn btn-secondary" onclick="retry()">ã‚‚ã†ä¸€åº¦ã‚„ã‚‹</button>`;
  h+=`</div>`;

  h+=`<div class="footer"><strong>å‚è€ƒç†è«–</strong><br>Bowlby (1969) æ„›ç€ç†è«– / Brennan et al. (1998) ECRå°ºåº¦<br>Bartholomew & Horowitz (1991) 4ã‚«ãƒ†ã‚´ãƒªãƒ¢ãƒ‡ãƒ«<br>Berne (1961) äº¤æµåˆ†æ / Kahler (1982) PCM<br>Beattie (1987) å…±ä¾å­˜ç†è«–<br><br><a href="https://aicha-store.com" target="_blank">aicha-store.com</a></div>`;

  document.getElementById('resultContent').innerHTML=h;showScreen('screen-result');
}

function shareResult(){
  const scores=calcScores();const a=getAnimal(scores.total);const code=encodeResult(scores.dims);
  const text=`ã€æººæ„›åº¦è¨ºæ–­ by aichaã€‘\n\n${a.emoji} ${a.name}\nLv.${a.lv} / 12\nã‚¹ã‚³ã‚¢: ${scores.total} / 75\n\nçµæœã‚³ãƒ¼ãƒ‰: ${code}\nï¼ˆç›¸æ‰‹ã«é€ã£ã¦ã‚«ãƒƒãƒ—ãƒ«æ¯”è¼ƒã—ã‚ˆã†ï¼ï¼‰\n\nã€Œå¥½ããŒé‡ã„ã£ã¦ã€æœ€é«˜ã˜ã‚ƒã‚“ã€‚ã€\nâ–¶ https://aicha-store.com\n\n#aichaæººæ„›è¨ºæ–­ #æººæ„›åº¦ #ãƒ¡ãƒ³ãƒ˜ãƒ©ãƒã‚§ãƒƒã‚«ãƒ¼`;
  if(navigator.share){navigator.share({title:'æººæ„›åº¦è¨ºæ–­ by aicha',text}).catch(()=>{})}
  else{navigator.clipboard.writeText(text).then(()=>alert('çµæœã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼SNSã«è²¼ã£ã¦ã­â™¡'))}
}
function retry(){mode='solo';partnerScores=null;showScreen('screen-intro');selectMode('solo')}
</script>
</body>
</html>
